<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta name="description"
        content="Site feito para sortear qualquer coisa, numeros, nomes ou cores, qualquer coisa que você quizer, basta digitar e clicar ele vai adicionando como uma lista, e no final você sorteia um deles">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SorteRandom</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="query.css">
    <link rel="shortcut icon" href="imagens/SorteRandomlicon.ico" type="image/x-icon">
</head>

<body>

    <header>
        <img src="imagens/SorteRandomlogo.png" alt="SorteRandom Logo">
    </header>
    <main>
        <p>Digite o item que quer na lista e clique em adicionar, no final clique em Sortear. <br> Para remover um item
            da lista clique duas vezes nele, ou reset para limpar tudo.</p>
        <section id="container_geral">
            <div id="item_box">
                <input type="text" name="item" id="item_id" placeholder="Digite o item aqui" autocomplete="off">
                <div id="btn_caixa">
                    <button id="btn_reset" onclick="btn_reset()">Reset</button>
                    <button id="btn_adicionar" onclick="adic()">+ Adicionar</button>
                </div>
            </div>

            <div id="display_item"></div>
            <div id="display_ganhador">
                <p>Sorteado:---------------</p>
            </div>

            <button id="btn_sortear" onclick="sortear()">!!! &#x1F3C6 SORTEAR AGORA!!!</button>
        </section>
    </main>
    <footer>
        <p style="text-align: center;">© 2025 Ernesto Rampanelli Neto. Todos os direitos reservados.</p>
    </footer>

    <script>
        let item = document.getElementById('item_id');
        let display = document.getElementById('display_item');
        let itens_array = []; // armazenar os itens
        let d_ganhador = document.getElementById('display_ganhador')
        //adicionar itens

        function adic() {
            if (item.value === "") {
            } else {
                itens_array.push(item.value);

                // Criar elemento dinamicamente
                let novaTarefa = document.createElement("p");
                novaTarefa.className = "item_display"; // Adiciona classe
                novaTarefa.textContent = item.value; // Define o texto do elemento

                // Adicionar evento de duplo clique para excluir o item
                novaTarefa.ondblclick = function () {
                    this.remove(); // Remove o elemento clicado
                    let index = itens_array.indexOf(this.textContent); // Encontra o índice do array
                    if (index !== -1) itens_array.splice(index, 1); // Remove do array
                };

                display.appendChild(novaTarefa); // Adiciona o elemento ao display
                item.value = "";
                item.focus();
            }
        }

        // Detecta a tecla "Enter"
        item.addEventListener("keydown", function (event) {
            if (event.key === "Enter") {
                adic();
            }
        });

        // Função para sortear um item aleatório
        function sortear() {
            if (itens_array.length === 0) {
                alert("A lista está vazia. Adicione itens antes de sortear!");
                return;
            }

            let indicesorteado = Math.floor(Math.random() * itens_array.length);
            d_ganhador.innerHTML = `<p>Sorteado: <span style="color: #fdff6d; text-shadow: 1px 1px 3px black;">&#x1F389 ${itens_array[indicesorteado]} &#x1F389</span></p>`
            // alert(`O item sorteado foi: ${itens_array[indicesorteado]}`);
        }

        // Função para resetar a lista inteira
        function btn_reset() {
            itens_array = []; // Reseta o array
            display.innerHTML = ""; // Limpa o display
            d_ganhador.innerHTML = "<p>Sorteado:---------------</p>"
        }

    </script>
</body>

</html>